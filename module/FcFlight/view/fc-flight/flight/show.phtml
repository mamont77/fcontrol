<?php
$title = 'Browse: Flight';
$this->headTitle($title);

?>
<h1><?php echo $this->escapeHtml($title); ?></h1>

<?php if ($form->getMessages()): ?>
    <div class="alert alert-error">
        <button class="close" data-dismiss="alert" type="button">Ã—</button>
        <strong>Invalid input!</strong>
        Form fields are not filled in correctly.
    </div>
<?php else: ?>
    <?php echo $this->flashMessenger()->render('success', array('alert', 'alert-success')); ?>
<?php endif; ?>

<table id="flightBrowse">
    <tr>
        <td>
            <table class="cHeader">
                <tr>
                    <th>Reg Number Order</th>
                    <td class="cRefNumberOrder"><?php echo $this->escapeHtml($header->refNumberOrder); ?></td>
                </tr>
                <tr>
                    <th>Date Order</th>
                    <td><?php echo date('Y-m-d', $header->dateOrder); ?></td>
                </tr>
                <tr>
                    <th>Customer</th>
                    <td><?php echo $this->escapeHtml($header->kontragentShortName); ?></td>
                </tr>
            </table>
        </td>
        <td>
            <table class="cHeader">
                <tr>
                    <th>Air Operator</th>
                    <td><?php echo $this->escapeHtml($header->airOperatorShortName); ?></td>
                </tr>
                <tr>
                    <th>Aircraft</th>
                    <td><?php echo $this->escapeHtml($header->aircraftType); ?>
                        (<?php echo $this->escapeHtml($header->aircraft); ?>)
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<?php
$displayOptions = array(
    'fieldsets' => array(
        'flightNumber' => array(
            'display_legend' => true,
            'elements' => array(
                'flightNumberIdIcao' => array(
                    'required' => true,
                ),
                'flightNumberIdIata' => array(
                    'required' => false,
                ),
                'flightNumberText' => array(
                    'required' => true,
                ),
            ),
        ),
        'apDep' => array(
            'display_legend' => true,
            'elements' => array(
                'apDepIdIcao' => array(
                    'required' => true,
                ),
                'apDepIdIata' => array(
                    'required' => false,
                ),
                'apDepTime' => array(
                    'required' => true,
                ),
            ),
        ),
        'apArr' => array(
            'display_legend' => true,
            'elements' => array(
                'apArrIdIcao' => array(
                    'required' => true,
                ),
                'apArrIdIata' => array(
                    'required' => false,
                ),
                'apArrTime' => array(
                    'required' => true,
                ),
            ),
        ),
    ),
    'elements' => array(
        'dateOfFlight' => array(
            'required' => true,
        ),
        'submitBtn' => array(
            'class' => 'btn-large',
        ),
    ),
);
//$formType = 'inline';
$form = $this->form;
$form->setAttribute('action', $this->url('flight', array('action' => 'addData')));
$form->prepare();
?>

<?php echo $this->formTwb($form, $formType, $displayOptions); ?>

